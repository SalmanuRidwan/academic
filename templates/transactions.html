{% extends "base.html" %}
{% block title %}Transactions{% endblock title %}

{% block content %}
<div class="card">
    <div class="card-header">
       <h5>Transactions</h5>
    </div>
    <div class="card-body table-border-style">
       <div class="table-responsive">
          <table class="table table-striped">
             <thead>
                <tr>
                   <th>#</th>
                   <th>Payment ID</th>
                   <th>Name</th>
                   <th>Email</th>
                   <th>Amount (â‚¦)</th>
                   <th>Status</th>
                   <th>Date</th>
                </tr>
             </thead>
             <tbody>
                {% for donation in donations %}
                <tr>
                   <td>{{ forloop.counter }}</td>
                   <td>{{ donation.payment_reference }}</td>
                   <td>{{ donation.donor_name }}</td>
                   <td>{{ donation.email }}</td>
                   <td>{{ donation.amount }}</td>
                   <td>
                      {% if donation.status == "Success" %}
                          <span class="badge bg-success">{{ donation.status }}</span>
                      {% elif donation.status == "Pending" %}
                          <span class="badge bg-warning">{{ donation.status }}</span>
                      {% else %}
                          <span class="badge bg-danger">{{ donation.status }}</span>
                      {% endif %}
                   </td>
                   <td>{{ donation.date|date:"jS F, Y H:i" }}</td>
                </tr>
                {% empty %}
                <tr>
                   <td colspan="7" class="text-center">No transactions found.</td>
                </tr>
                {% endfor %}
             </tbody>
          </table>
       </div>
    </div>
</div>
{% endblock content %}
